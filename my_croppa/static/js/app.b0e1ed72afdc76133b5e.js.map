{"version":3,"sources":["webpack:///src/components/ImageCroppa.vue","webpack:///./src/components/ImageCroppa.vue?a64f","webpack:///./src/components/ImageCroppa.vue","webpack:///src/App.vue","webpack:///./src/App.vue?868b","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["currentSizeIndex","w","h","scale","width","updatePreviewImage","generateImage","_this","this","curCompressionRateIndex","blob","remove","compressionRate","_this2","url","components_ImageCroppa","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","style","controlMaxWidth","height","controlMaxHeight","ref","placeholder","zoom-speed","quality","prevent-white-space","on","new-image-drawn","image-remove","imageRemove","model","value","callback","$$v","myCroppa","expression","src","previewSrc","alt","label","align","label-width","labelWidth","_l","size","index","key","directives","name","rawName","type","customWidth","_n","customHeight","change","curMIMEtypeIndex","_e","rate","click","cut","staticRenderFns","App","ImageCroppa","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","id","generateImageBlob","src_App","App_normalizeComponent","vue_runtime_esm","use","element_ui_common_default","a","vue_croppa_default","config","productionTip","el"],"mappings":"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","file":"static/js/app.b0e1ed72afdc76133b5e.js","sourcesContent":["<template>\r\n\t<div class=\"image-croppa\">\r\n\t\t<el-row class=\"croppa-panel\">\r\n\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t<div class=\"box-title\">裁剪框</div>\r\n\t\t\t\t<div class=\"center-block\">\r\n\t\t\t\t\t<div class=\"croppa-wrapper-control\" :style=\"{width:controlMaxWidth+'px',height:controlMaxHeight+'px'}\">\r\n\t\t\t\t\t\t<croppa\tref=\"croppa\"\r\n\t\t\t\t\t\t\t\tv-model=\"myCroppa\"\r\n\t\t\t\t\t\t\t\t:width=\"width\"\r\n\t\t\t\t\t\t\t\t:height=\"height\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"点击或拖拽一张图片到这里\"\r\n\t\t\t\t\t\t\t\t:zoom-speed=\"5\"\r\n\t\t\t\t\t\t\t\t:quality=\"quality\"         \r\n\t\t\t\t\t\t\t\t:prevent-white-space=\"true\"\r\n\t\t\t\t\t\t\t\t@new-image-drawn=\"updatePreviewImage\"\r\n\t\t\t\t\t\t\t\t@image-remove=\"imageRemove\"\r\n\t\t\t\t\t\t></croppa>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</el-col>\r\n\t\t\t<el-col class=\"update-view-control\" :span=\"2\">\r\n\t\t\t\t\r\n\t\t\t</el-col>\r\n\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t<div class=\"box-title\">预览</div>\r\n\t\t\t\t<div class=\"center-block\">\r\n\t\t\t\t\t<div class=\"croppa-wrapper-control\" :style=\"{width:controlMaxWidth+'px',height:controlMaxHeight+'px'}\">\r\n\t\t\t\t\t\t<div class=\"preview-image-box\" :style=\"{width:width+'px',height:height+'px'}\">\r\n\t\t\t\t\t\t\t<img :src=\"previewSrc\" alt=\"预览图\" width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t\r\n\r\n\t\t<div class=\"croppa-control-bar\">\r\n\t\t\t<el-form>\r\n\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t<el-form-item label=\"常用尺寸\" align=\"right\" :label-width=\"labelWidth\">\r\n\t\t\t\t\t\t<el-select v-model=\"currentSizeIndex\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(size, index) in sizeList\" :key=\"index\" :label=\"size\" :value=\"index\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\r\n\t\t\t\t<el-col :span=\"7\">\r\n\t\t\t\t\t<el-form-item v-show=\"currentSizeIndex===0\" label=\"自定尺寸\" :label-width=\"labelWidth\">\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model.number=\"customWidth\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"4\" align=\"center\">x</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input type=\"number\" v-model.number=\"customHeight\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t\r\n\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t<el-form-item label=\"图片类型\" :label-width=\"labelWidth\">\r\n\t\t\t\t\t\t<el-select v-model=\"curMIMEtypeIndex\" @change=\"updatePreviewImage\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(type, index) in MIMEtypes\" :key=\"index\" :label=\"type\" :value=\"index\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\r\n\t\t\t\t<el-col :span=\"4\">\r\n\t\t\t\t\t<el-form-item v-if=\"!curMIMEtypeIndex\" label=\"压缩率\" :label-width=\"labelWidth\">\r\n\t\t\t\t\t\t<el-select v-model=\"curCompressionRateIndex\" @change=\"updatePreviewImage\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"(rate, index) in compressionRates\" :key=\"index\" :label=\"rate\" :value=\"index\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-col>\r\n\t    \t\t\r\n\t    \t\t<el-col :span=\"5\" align=\"center\">\r\n\t    \t\t\t\r\n\t    \t\t\t<el-button type=\"primary\" @click=\"cut\" size=\"medium\">裁剪并下载</el-button>\r\n\r\n\t    \t\t</el-col>\r\n\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\t/*\r\n\t\t该组件强制依赖于vue、Ement-ui、vue-croppa\r\n\t\t需在全局main.js注册croppa，步骤如下：\r\n\t\t\r\n\t\timport Croppa from 'vue-croppa'\r\n\t\timport 'vue-croppa/dist/vue-croppa.css'\r\n\t\tVue.use(Croppa)\r\n\t\t\r\n\t\t\r\n\t */\r\n\texport default {\r\n\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t        labelWidth: '80px',\r\n\r\n\t\t\t\t//裁剪框显示的最大宽高默认值\r\n\t\t\t\tcontrolMaxWidth: 400,\r\n\t\t\t\tcontrolMaxHeight: 400,\r\n\r\n\t\t\t\tmyCroppa: {},\r\n\r\n\r\n\t\t\t\t//常用海报可选尺寸\r\n\t\t\t\tsizeList: ['自定义宽高','100x100', '130x240','260x480','300x300', '350x180','600x600','1280x210'],\t\r\n\t\t\t\t//当前选中的尺寸索引值\t\r\n\t\t        currentSizeIndex: 0,\r\n\r\n\t\t        //自定义宽高\r\n\t\t        customWidth: 300,\r\n\t\t        customHeight: 300,\r\n\r\n\t\t        //可生成的图片类型\r\n\t\t        MIMEtypes: ['image/jpeg', 'image/png'],\t\r\n\t\t        //可选压缩率\t\r\n\t\t        compressionRates: ['默认','0.9','0.8','0.7','0.6','0.5','0.4','0.3','0.2','0.1'],   \r\n\t\t        //当前选中的图片类型索引值\r\n\t\t        curMIMEtypeIndex: 0,\r\n\t\t        //当前选中的压缩率索引值\r\n\t\t        curCompressionRateIndex: 0,\r\n\r\n\t\t        //预览图路径\r\n\t\t        previewSrc: '',\r\n\r\n\t\t        generatingFlag: false,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed:{\r\n\t\t\tsizeInfo(){\r\n\t\t\t\tlet selectedSizeText = this.sizeList[this.currentSizeIndex];\r\n\r\n\t\t\t\tif(selectedSizeText === '自定义宽高'){\r\n\t\t\t\t\treturn [this.customWidth || 5, this.customHeight || 5];\r\n\t\t\t\t}else{\r\n\r\n\t\t\t\t\treturn selectedSizeText.split(\"x\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//所选生成尺寸宽度\r\n\t\t\tw(){\r\n\t\t\t\treturn parseInt(this.sizeInfo[0], 10);\r\n\t\t\t},\r\n\r\n\t\t\t//所选生成尺寸高度\r\n\t\t\th(){\r\n\t\t\t\treturn parseInt(this.sizeInfo[1], 10);\r\n\t\t\t},\r\n\r\n\t\t\t//裁剪框大小 相对于 生成尺寸大小 的缩放度\r\n\t\t\tscale(){\r\n\t\t\t\tif(this.w <= this.controlMaxWidth && this.h <= this.controlMaxHeight){\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//以较大的边为准\r\n\t\t\t\t\tif(this.w >= this.h){\r\n\t\t\t\t\t\treturn this.controlMaxWidth / this.w;\r\n\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn this.controlMaxHeight / this.h;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//裁剪框实际显示宽度\r\n\t\t\twidth(){\r\n\t\t\t\tlet tmp = this.w * this.scale;\r\n\t\t\t\treturn tmp > this.controlMaxWidth ? this.controlMaxWidth : tmp;;\r\n\t\t\t},\r\n\r\n\t\t\t//裁剪框实际显示高度\r\n\t\t\theight(){\r\n\t\t\t\tlet tmp = this.h * this.scale;\r\n\t\t\t\treturn tmp > this.controlMaxHeight ? this.controlMaxHeight : tmp;;\r\n\t\t\t},\r\n\r\n\t\t\t//croppa的quality属性值，标识输出的图片尺寸大小相对于裁剪框大小的倍数\r\n\t\t\t//有如下计算关系：\r\n\t\t\t//\t\t outputWidth = width * quality,\r\n\t\t\t//\t\t outputHeight = height * quality\r\n\t\t\tquality(){\r\n\t\t\t\treturn this.w / this.width;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twatch:{\r\n\t\t\t//监听myCroppa位置变化，实时更新预览图\r\n\t\t\t'myCroppa.imgData': {\r\n\t\t\t\thandler(){\r\n\t\t\t\t\tif(!this.generatingFlag){\r\n\r\n\t\t\t\t\t\tthis.updatePreviewImage();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\t\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tcut(){\r\n\r\n\t\t\t\tif(!this.previewSrc){\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$alert('请先选择一张图片进行裁剪！',{\r\n\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.generateImage();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgenerateImage( callback ) {\r\n\r\n\t\t\t\t//测试发现，压缩率貌似只和jpg图片类型有关\r\n\t\t\t\tif(!this.curMIMEtypeIndex && this.curCompressionRateIndex){\r\n\r\n\t\t\t\t\tvar compressionRate = parseFloat(this.compressionRates[this.curCompressionRateIndex]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar compressionRate = 1;\r\n\t\t\t\t}\r\n\r\n\t\t    \tthis.myCroppa.generateBlob((blob) => {\r\n\t\t    \t\r\n            \t\tif(typeof callback === \"function\"){\r\n            \t\t\tcallback( blob );\r\n            \t\t}else{\r\n\r\n            \t\t\tthis.$emit(\"generateImageBlob\",blob);\r\n            \t\t\tthis.myCroppa.remove()\r\n            \t\t}\r\n\r\n\t\t    \t}, this.MIMEtypes[this.curMIMEtypeIndex],  compressionRate)\r\n\r\n\t\t    },\r\n\r\n\r\n\t\t    //更新预览图\r\n\t\t    updatePreviewImage(){\r\n\t\t    \tthis.generatingFlag = true;\r\n\r\n\t\t    \tthis.generateImage((blob)=>{\r\n\t\t    \t\tthis.generatingFlag = false;\r\n\r\n\t\t    \t\tif(blob){\r\n\t\t\t    \t\tvar url = URL.createObjectURL(blob)\r\n\t\t\t    \t\tthis.previewSrc = url;\r\n\t\t    \t\t}\r\n\t\t    \t});\r\n\t\t    },\r\n\r\n\t\t    imageRemove(){\r\n\t\t    \tthis.previewSrc = '';\r\n\t\t    }\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n\t.image-croppa{\r\n\t\tmin-width: 1200px;\r\n\t}\r\n\t.image-croppa .croppa-wrapper-control,\r\n\t.image-croppa .update-view-control{\r\n\t\ttext-align: center;\r\n\t\tdisplay: table-cell;\r\n\t\tvertical-align: middle;\r\n\t\tline-height: 0;\r\n\t}\r\n\t.image-croppa .update-view-control{\r\n\t\theight: 100%;\r\n\t}\r\n\t.croppa-panel .el-col{\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.croppa-panel .center-block{\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.image-croppa .box-title{\r\n\t\twidth: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: -30px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.image-croppa .preview-image-box{\r\n\t\tdisplay: inline-block;\r\n\t\ttransition: all 0.3s;\r\n\t    position: relative;\r\n\t    font-size: 0;\r\n\t    -ms-flex-item-align: start;\r\n\t    align-self: flex-start;\r\n\t    background-color: #e6e6e6;\r\n\t}\r\n\t.image-croppa .croppa-control-bar{\r\n\t\tclear: left;\r\n\t\tmargin-top: 10px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.image-croppa canvas{\r\n\t\tdisplay: block;\r\n\t}\r\n\t.image-croppa .el-form-item{\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ImageCroppa.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-croppa\"},[_c('el-row',{staticClass:\"croppa-panel\"},[_c('el-col',{attrs:{\"span\":11}},[_c('div',{staticClass:\"box-title\"},[_vm._v(\"裁剪框\")]),_vm._v(\" \"),_c('div',{staticClass:\"center-block\"},[_c('div',{staticClass:\"croppa-wrapper-control\",style:({width:_vm.controlMaxWidth+'px',height:_vm.controlMaxHeight+'px'})},[_c('croppa',{ref:\"croppa\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"placeholder\":\"点击或拖拽一张图片到这里\",\"zoom-speed\":5,\"quality\":_vm.quality,\"prevent-white-space\":true},on:{\"new-image-drawn\":_vm.updatePreviewImage,\"image-remove\":_vm.imageRemove},model:{value:(_vm.myCroppa),callback:function ($$v) {_vm.myCroppa=$$v},expression:\"myCroppa\"}})],1)])]),_vm._v(\" \"),_c('el-col',{staticClass:\"update-view-control\",attrs:{\"span\":2}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('div',{staticClass:\"box-title\"},[_vm._v(\"预览\")]),_vm._v(\" \"),_c('div',{staticClass:\"center-block\"},[_c('div',{staticClass:\"croppa-wrapper-control\",style:({width:_vm.controlMaxWidth+'px',height:_vm.controlMaxHeight+'px'})},[_c('div',{staticClass:\"preview-image-box\",style:({width:_vm.width+'px',height:_vm.height+'px'})},[_c('img',{attrs:{\"src\":_vm.previewSrc,\"alt\":\"预览图\",\"width\":\"100%\",\"height\":\"100%\"}})])])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"croppa-control-bar\"},[_c('el-form',[_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"常用尺寸\",\"align\":\"right\",\"label-width\":_vm.labelWidth}},[_c('el-select',{model:{value:(_vm.currentSizeIndex),callback:function ($$v) {_vm.currentSizeIndex=$$v},expression:\"currentSizeIndex\"}},_vm._l((_vm.sizeList),function(size,index){return _c('el-option',{key:index,attrs:{\"label\":size,\"value\":index}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentSizeIndex===0),expression:\"currentSizeIndex===0\"}],attrs:{\"label\":\"自定尺寸\",\"label-width\":_vm.labelWidth}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.customWidth),callback:function ($$v) {_vm.customWidth=_vm._n($$v)},expression:\"customWidth\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4,\"align\":\"center\"}},[_vm._v(\"x\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.customHeight),callback:function ($$v) {_vm.customHeight=_vm._n($$v)},expression:\"customHeight\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"图片类型\",\"label-width\":_vm.labelWidth}},[_c('el-select',{on:{\"change\":_vm.updatePreviewImage},model:{value:(_vm.curMIMEtypeIndex),callback:function ($$v) {_vm.curMIMEtypeIndex=$$v},expression:\"curMIMEtypeIndex\"}},_vm._l((_vm.MIMEtypes),function(type,index){return _c('el-option',{key:index,attrs:{\"label\":type,\"value\":index}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[(!_vm.curMIMEtypeIndex)?_c('el-form-item',{attrs:{\"label\":\"压缩率\",\"label-width\":_vm.labelWidth}},[_c('el-select',{on:{\"change\":_vm.updatePreviewImage},model:{value:(_vm.curCompressionRateIndex),callback:function ($$v) {_vm.curCompressionRateIndex=$$v},expression:\"curCompressionRateIndex\"}},_vm._l((_vm.compressionRates),function(rate,index){return _c('el-option',{key:index,attrs:{\"label\":rate,\"value\":index}})}))],1):_vm._e()],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":5,\"align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.cut}},[_vm._v(\"裁剪并下载\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-1bbc507f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageCroppa.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1bbc507f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./ImageCroppa.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ImageCroppa.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./ImageCroppa.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bbc507f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./ImageCroppa.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageCroppa.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n      <image-croppa @generateImageBlob=\"generateImageBlob\"></image-croppa>\n  </div>\n</template>\n\n<script>\nimport ImageCroppa from './components/ImageCroppa'\n\nexport default {\n  name: 'App',\n\n  methods:{\n    generateImageBlob(blob){\n\n          var url = URL.createObjectURL(blob)\n          var a = document.createElement('a');\n          a.download = 'filename';\n          a.href = url;\n          a.click();\n          URL.revokeObjectURL(url);\n      }\n  },\n\n  components: {\n    ImageCroppa\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('image-croppa',{on:{\"generateImageBlob\":_vm.generateImageBlob}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-7db2f312\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7db2f312\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7db2f312\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport App from './App'\n\nimport ElementUI from 'element-ui'\nimport Croppa from 'vue-croppa'\n\nimport 'element-ui/lib/theme-chalk/index.css'\nimport 'vue-croppa/dist/vue-croppa.css'\n\nVue.use(ElementUI)\nVue.use(Croppa)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}